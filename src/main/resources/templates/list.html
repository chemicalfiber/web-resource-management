<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <script th:src="@{/js/jquery.min.js}"></script>
    <title>上传文件日志列表</title>
</head>
<body class="container">
<h2>上传文件列表</h2>
<div th:if="${deleteStatus}" style="color: red" th:text="${deleteStatus}">删除成功！</div>
<table class="table table-striped table-hover table-responsive">
    <thead>
        <tr>
            <th>文件名称</th>
            <th>类型</th>
            <th>上传时间</th>
            <th>上传IP地址</th>
            <th>下载</th>
            <th>删除</th>
        </tr>
    </thead>
    <tbody>
        <tr th:each="fileinfo:${uploadList}">
            <td th:text="${fileinfo.filename}">暂无</td>
            <td th:text="${fileinfo.filetype}">暂无</td>
            <td th:text="${fileinfo.uploadtime}">暂无</td>
            <td th:text="${fileinfo.uploadip}">暂无</td>
            <td><a th:href="@{/download(filename = ${fileinfo.filename})}">下载文件</a></td>
            <td><a th:href="@{/deleteFile(filename = ${fileinfo.filename})}">删除文件</a></td>
        </tr>
    </tbody>
</table>
</body>
<script>
    let v = $("tr>td:first-child");
    $.each(v,function (index,value) {
        value.innerText = value.innerText.substr(value.innerText.indexOf("_") + 1)
    })
</script>
</html>